<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/form.css">
    <title>Feedback Form</title>
</head>

<body>
    <div class="container">
        <div class="nav_expanded">
            <img src="https://0.academia-photos.com/61780733/19658868/19531766/s200_sna.jharkhand.jpg" alt=""
                class="mainLogo">
            <a class="about" href="../index.html">
                <img src="../Assets/img/about.png" alt="" class="aboutImg">
                <p>About</p>
            </a>
            <a class="feedback" href="../view/form.html">
                <img src="../Assets/img/feedback.png" alt="" class="feedbackImg">
                <p>Feedback</p>
            </a>
            <a class="tables" href="../view/table.html">
                <img src="../Assets/img/table.png" alt="" class="tablesImg">
                <p>Tables</p>
            </a>
            <a class="save" href="../view/download.html">
                <img src="../Assets/img/save.png" alt="" class="saveImg">
                <p>Downloads</p>
            </a>
            <img src="../Assets/img/50yrs.png" alt="" class="logo2">
            <img src="../Assets/img/sub_logo.png" alt="" class="logo3">
            <p class="govt">Govt. of Jharkhand</p>
            <img src="../Assets/img/ham.png" alt="" srcset="" class="ham">
        </div>
        <div class="headf">
            <h1>Feedback Form</h1>
            <div class="form"></br>
                <form id="formElem">
                    <p id="message"></p>
                    <br>
                    <input class="f2" type="text1" name="name" value="" placeholder="Name">
                    <select name="gender" id="sub" placeholder="Gender">
                        <option value="gender">Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>

                    </select><br><br><br>
                    <input class="f2" type="text1" name="phone" value="" placeholder="Phone Number">

                    <input class="f2" type="text1" name="email" value="" placeholder="Email"><br><br>

                    <br>
                    <input class="f1" type="text" name="district" value="" placeholder="District"><br>
                    <br>

                    <br>
                    <input class="f1" type="textarea" name="body" value="" placeholder="Body">

                    <br>

                    <br>

                    <!----  <div class="inputGroup">
                   <input id="radio1" name="radio" type="radio"/>
                    <label for="radio1">Form Feedback</label></div>
                    <div class="inputGroup">
                    <input id="radio2" name="radio" type="radio"/>
                    <label for="radio2">Form Feedback</label>
                    </div>-->
                    <input class="button3 submit" type="submit" value="Submit">
                </form>
            </div>
        </div>
    </div>
    <div class="header">
        <img src="../Assets/img/ham.png" alt="" srcset="" class="bam">
        <img src="https://0.academia-photos.com/61780733/19658868/19531766/s200_sna.jharkhand.jpg" alt=""
            class="mainLogob">
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/plugins/CSSPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenLite.min.js"></script>
    <!-- <script src="../js/table.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" sync></script>

    <script>
        $(document).ready(function () {
            $('.submit').click(function (e) {
                e.preventDefault();
                let formData = new FormData(formElem);

                // for (var value of formData.values()) {
                //     console.log(value);
                // }

                var object = {};
                formData.forEach(function (value, key) {
                    console.log(value)
                    object[key] = value;
                });
                console.log(JSON.stringify(object))

                fetch('https://pmjay.herokuapp.com/feedback/', {
                    method: 'POST',
                    crossDomain: true,
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(object)
                }).then(
                    response => response.json()
                ).then(
                    success => {
                        document.getElementById('message').innerHTML = 'Thank you for your feedback!'
                        document.getElementById('message').style.color = "green"
                        console.log(success)
                    }
                ).catch(
                    error => {
                        document.getElementById('message').innerHTML = 'Please try again'
                        document.getElementById('message').style.color = "red"
                        console.log(error)
                    }
                );

            })
        })
    </script>
</body>

</html>
